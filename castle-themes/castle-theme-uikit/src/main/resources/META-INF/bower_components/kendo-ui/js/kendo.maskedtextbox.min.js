/** 
 * Copyright 2017 Telerik AD                                                                                                                                                                            
 *                                                                                                                                                                                                      
 * Licensed under the Apache License, Version 2.0 (the "License");                                                                                                                                      
 * you may not use this file except in compliance with the License.                                                                                                                                     
 * You may obtain a copy of the License at                                                                                                                                                              
 *                                                                                                                                                                                                      
 *     http://www.apache.org/licenses/LICENSE-2.0                                                                                                                                                       
 *                                                                                                                                                                                                      
 * Unless required by applicable law or agreed to in writing, software                                                                                                                                  
 * distributed under the License is distributed on an "AS IS" BASIS,                                                                                                                                    
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                                                                                                             
 * See the License for the specific language governing permissions and                                                                                                                                  
 * limitations under the License.                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/
!function(t,define){define("kendo.maskedtextbox.min",["kendo.core.min"],t)}(function(){return function(t,e){function n(t){return t+d}function a(t,e){for(var n=0;n<e.length&&t[n]===e[n];)n++;return n}var i=window,s=i.Math.min,o=i.kendo,r=o.caret,l=o.keys,u=o.ui,_=u.Widget,d=".kendoMaskedTextBox",m=t.proxy,p=window.setTimeout,h="k-state-disabled",c="k-state-invalid",f="disabled",v="readonly",g="change",k="mouseup",b="drop",y="keydown",w="paste",C="input",x=n(o.support.propertyChangeEvent?"propertychange":C),I=_.extend({init:function(e,n){var a,i,s=this;_.fn.init.call(s,e,n),s._rules=t.extend({},s.rules,s.options.rules),e=s.element,a=e[0],s._wrapper(),s._tokenize(),s._form(),s.element.addClass("k-textbox").attr("autocomplete","off").on("focus"+d,function(){var t=a.value;t?s._togglePrompt(!0):a.value=s._old=s._emptyMask,s._oldValue=t,s._timeoutId=p(function(){r(e,0,t?s._maskLength:0)})}).on("focusout"+d,function(){var t=e.val();clearTimeout(s._timeoutId),a.value=s._old="",t!==s._emptyMask&&(a.value=s._old=t),s._change(),s._togglePrompt()}),i=e.is("[disabled]")||t(s.element).parents("fieldset").is(":disabled"),i?s.enable(!1):s.readonly(e.is("[readonly]")),s.value(s.options.value||e.val()),s._validationIcon=t("<span class='k-icon k-i-warning'></span>").insertAfter(e),o.notify(s)},options:{name:"MaskedTextBox",clearPromptChar:!1,unmaskOnPost:!1,promptChar:"_",culture:"",rules:{},value:"",mask:""},events:[g],rules:{0:/\d/,9:/\d|\s/,"#":/\d|\s|\+|\-/,L:/[a-zA-Z]/,"?":/[a-zA-Z]|\s/,"&":/\S/,C:/./,A:/[a-zA-Z0-9]/,a:/[a-zA-Z0-9]|\s/},setOptions:function(e){var n=this;_.fn.setOptions.call(n,e),n._rules=t.extend({},n.rules,n.options.rules),n._tokenize(),this._unbindInput(),this._bindInput(),n.value(n.element.val())},destroy:function(){var t=this;t.element.off(d),t._formElement&&(t._formElement.off("reset",t._resetHandler),t._formElement.off("submit",t._submitHandler)),_.fn.destroy.call(t)},raw:function(){var t=this._unmask(this.element.val(),0);return t.replace(RegExp(this.options.promptChar,"g"),"")},value:function(t){var n=this.element,a=this._emptyMask;return t===e?this.element.val():(null===t&&(t=""),a?(t=this._unmask(t+""),n.val(t?a:""),this._mask(0,this._maskLength,t),this._unmaskedValue=null,t=n.val(),this._oldValue=t,o._activeElement()!==n&&(t===a?n.val(""):this._togglePrompt()),e):(this._oldValue=t,n.val(t),e))},_togglePrompt:function(t){var e=this.element[0],n=e.value;this.options.clearPromptChar&&(n=t?this._oldValue:n.replace(RegExp(this.options.promptChar,"g")," "),e.value=this._old=n)},readonly:function(t){this._editable({readonly:t===e||t,disable:!1})},enable:function(t){this._editable({readonly:!1,disable:!(t=t===e||t)})},_bindInput:function(){var t,e,a=this;a._maskLength&&(a.options.$angular&&a.element.off(C),a.element.on(n(y),m(a._keydown,a)).on(n(b),m(a._drop,a)).on(n(g),m(a._trackChange,a)).on(x,m(a._inputHandler,a)),o.support.browser.msie&&(t=o.support.browser.version,t>8&&t<11&&(e=[n(k),n(b),n(y),n(w)].join(" "),a.element.on(e,m(a._legacyIEInputHandler,a)))))},_unbindInput:function(){var t=[x,n(y),n(k),n(b),n(w)].join(" ");this.element.off(t)},_editable:function(t){var e=this,n=e.element,a=e.wrapper,i=t.disable,s=t.readonly;e._unbindInput(),s||i?(n.attr(f,i).attr(v,s),a.toggleClass(h,i)):(n.removeAttr(f).removeAttr(v),a.removeClass(h),e._bindInput())},_change:function(){var t=this,e=t.value();e!==t._oldValue?(t._oldValue=e,t.trigger(g),t.element.trigger(g)):""===e&&t.__changing&&t.element.trigger(g)},inputChange:function(t){var e,n,i,l,u,_=this,d=_._old,m=_.element[0],p=m.value,h=r(m),c=h[1],f=p.length-d.length,v=o.support.mobileOS;_.__dropping&&f<0||(f===-1&&v.android&&"chrome"===v.browser&&(t=!0),e=s(c,a(p,d)),n=p.substring(e,c),m.value=p.substring(0,e)+_._emptyMask.substring(e),i=_._mask(e,c,n),l=_._trimStartPromptChars(p.substring(c),s(f,i-e)),u=_._unmask(l,d.length-l.length),_._mask(i,i,u),t&&(i=_._findCaretPosBackwards(e)),r(m,i),_.__dropping=!1)},_trimStartPromptChars:function(t,e){for(var n=this.options.promptChar;e-- >0&&0===t.indexOf(n);)t=t.substring(1);return t},_findCaretPosBackwards:function(t){var e=this._find(t,!0);return e<t&&(e+=1),e},_inputHandler:function(){o._activeElement()===this.element[0]&&this.inputChange(this.__backward)},_legacyIEInputHandler:function(t){var e=this,n=e.element[0],a=n.value,i=t.type;e.__pasting="paste"===i,p(function(){"mouseup"===i&&e.__pasting||n.value!==a&&e.inputChange(e.__backward)})},_trackChange:function(){var t=this;t.__changing=!0,p(function(){t.__changing=!1})},_form:function(){var e=this,n=e.element,a=n.attr("form"),i=a?t("#"+a):n.closest("form");i[0]&&(e._resetHandler=function(){p(function(){e.value(n[0].value)})},e._submitHandler=function(){e.element[0].value=e._old=e.raw()},e.options.unmaskOnPost&&i.on("submit",e._submitHandler),e._formElement=i.on("reset",e._resetHandler))},_keydown:function(t){var e=t.keyCode;this.__backward=e===l.BACKSPACE,e===l.ENTER&&this._change()},_drop:function(){this.__dropping=!0},_find:function(t,e){var n=this.element.val()||this._emptyMask,a=1;for(e===!0&&(a=-1);t>-1||t<=this._maskLength;){if(n.charAt(t)!==this.tokens[t])return t;t+=a}return-1},_mask:function(t,n,a,i){var s,l,u,_,d=this.element[0],m=d.value||this._emptyMask,p=this.options.promptChar,h=0;for(t=this._find(t,i),t>n&&(n=t),l=this._unmask(m.substring(n),n),a=this._unmask(a,t),s=a.length,a&&(l=l.replace(RegExp("^_{0,"+s+"}"),"")),a+=l,m=m.split(""),u=a.charAt(h);t<this._maskLength;)m[t]=u||p,u=a.charAt(++h),_===e&&h>s&&(_=t),t=this._find(t+1);return d.value=this._old=m.join(""),o._activeElement()===d&&(_===e&&(_=this._maskLength),r(d,_)),_},_unmask:function(e,n){var a,i,s,o,r,l,u,_;if(!e)return"";if(this._unmaskedValue===e)return this._unmaskedValue;for(e=(e+"").split(""),s=0,o=n||0,r=this.options.promptChar,l=e.length,u=this.tokens.length,_="";o<u&&(a=e[s],i=this.tokens[o],a===i||a===r?(_+=a===r?r:"",s+=1,o+=1):"string"!=typeof i?(i&&i.test&&i.test(a)||t.isFunction(i)&&i(a)?(_+=a,o+=1):1===l&&this._blinkInvalidState(),s+=1):o+=1,!(s>=l)););return this._unmaskedValue=_,_},_wrapper:function(){var t=this,e=t.element,n=e[0],a=e.wrap("<span class='k-widget k-maskedtextbox'></span>").parent();a[0].style.cssText=n.style.cssText,n.style.width="100%",t.wrapper=a.addClass(n.className)},_blinkInvalidState:function(){var t=this;t.wrapper.addClass(c),clearTimeout(t._invalidStateTimeout),t._invalidStateTimeout=p(m(t._removeInvalidState,t),100)},_removeInvalidState:function(){var t=this;t.wrapper.removeClass(c),t._invalidStateTimeout=null},_tokenize:function(){for(var t,e,n,a,i=[],s=0,r=this.options.mask||"",l=r.split(""),u=l.length,_=0,d="",m=this.options.promptChar,p=o.getCulture(this.options.culture).numberFormat,h=this._rules;_<u;_++)if(t=l[_],e=h[t])i[s]=e,d+=m,s+=1;else for("."===t||","===t?t=p[t]:"$"===t?t=p.currency.symbol:"\\"===t&&(_+=1,t=l[_]),t=t.split(""),n=0,a=t.length;n<a;n++)i[s]=t[n],d+=t[n],s+=1;this.tokens=i,this._emptyMask=d,this._maskLength=d.length}});u.plugin(I)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(t,e,n){(n||e)()});
//# sourceMappingURL=kendo.maskedtextbox.min.js.map
